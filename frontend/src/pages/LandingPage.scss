@use "../styles/variables" as *;
@use "../styles/mixins" as *;

// --- CYBER-INDUSTRIAL PALETTE ---
$deep-space: #050505;
$electric-cyan: #00f5ff;
$proton-purple: #8a2be2;
$momentum-gold: #ffd700;
$grid-color: rgba(0, 245, 255, 0.05);

.landing-page {
  width: 100%;
  max-width: 100vw;
  min-height: 100vh;
  background-color: $deep-space;
  color: #ffffff;
  overflow-x: hidden;
  font-family: "Inter", sans-serif;
  cursor: none; // Hiding default cursor for custom one

  // Custom Scrollbar
  &::-webkit-scrollbar {
    width: 4px;
  }
  &::-webkit-scrollbar-thumb {
    background: $electric-cyan;
    border-radius: 2px;
  }

  // --- CUSTOM CURSOR ---
  &__cursor {
    position: fixed;
    top: 0;
    left: 0;
    width: 20px;
    height: 20px;
    border: 2px solid $electric-cyan;
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    mix-blend-mode: difference;
    transition:
      width 0.3s,
      height 0.3s;

    &--hover {
      width: 50px;
      height: 50px;
      background: rgba($electric-cyan, 0.1);
      border-color: $momentum-gold;
    }

    &-trail {
      position: fixed;
      width: 8px;
      height: 8px;
      background: $proton-purple;
      border-radius: 50%;
      pointer-events: none;
      z-index: 9998;
      opacity: 0.6;
    }
  }

  // --- AURORA BACKGROUND ---
  &__aurora {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;

    &-item {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.4;
      animation: aurora-float 10s infinite alternate
        cubic-bezier(0.4, 0, 0.2, 1);

      &:nth-child(1) {
        top: -10%;
        left: -10%;
        width: 50vw;
        height: 50vw;
        background: $electric-cyan;
        animation-duration: 8s;
      }

      &:nth-child(2) {
        bottom: -10%;
        right: -10%;
        width: 60vw;
        height: 60vw;
        background: $proton-purple;
        animation-duration: 12s;
        animation-delay: -2s;
      }

      &:nth-child(3) {
        top: 40%;
        left: 40%;
        width: 30vw;
        height: 30vw;
        background: $momentum-gold;
        opacity: 0.2;
        animation-duration: 15s;
        animation-delay: -5s;
      }
    }
  }

  // --- HERO SECTION (Split Screen) ---
  &__hero {
    height: 100vh;
    width: 100%;
    display: flex;
    position: relative;
    overflow: hidden;

    // Background Grid
    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 200%;
      height: 200%;
      background-image:
        linear-gradient($grid-color 1px, transparent 1px),
        linear-gradient(90deg, $grid-color 1px, transparent 1px);
      background-size: 50px 50px;
      transform: perspective(500px) rotateX(60deg) translateY(-100px)
        translateZ(-200px);
      animation: grid-move 20s linear infinite;
      z-index: 0;
      pointer-events: none;
    }

    &-left {
      flex: 0 0 45%; // Fixed width to prevent jitter from text scrambling
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-left: 5vw;
      z-index: 2;
    }

    &-right {
      flex: 0 0 55%; // Fixed width
      position: relative;
      z-index: 1;
    }

    h1 {
      font-size: clamp(4rem, 8vw, 9rem);
      font-weight: 900;
      line-height: 0.9;
      text-transform: uppercase;
      color: #fff;
      margin-bottom: 2rem;

      span {
        display: block;
        &.highlight {
          color: transparent;
          -webkit-text-stroke: 2px $electric-cyan;
          position: relative;

          &::before {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            width: 0%;
            height: 100%;
            color: $electric-cyan;
            overflow: hidden;
            border-right: 2px solid $electric-cyan;
            animation: type-fill 4s cubic-bezier(0.77, 0, 0.175, 1) forwards;
            -webkit-text-stroke: 0;
            white-space: nowrap;
          }
        }
      }
    }

    &-btn {
      padding: 1.5rem 3rem;
      font-size: 1.2rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: $deep-space;
      background: $electric-cyan;
      border: none;
      width: fit-content;
      position: relative;
      cursor: none; // Use custom cursor
      clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
      transition: all 0.3s ease;

      &:hover {
        background: $momentum-gold;
        color: #000;
        box-shadow: 0 0 30px $electric-cyan;
      }
    }
  }

  // --- FEATURE SECTION (Bento Heatmap) ---
  &__heatmap {
    min-height: 100vh;
    padding: 10vh 5vw;
    position: relative;
    z-index: 5;
    background: $deep-space;

    h2 {
      font-size: 4rem;
      text-align: center;
      margin-bottom: 5rem;
      color: $proton-purple;
      text-shadow: 0 0 20px rgba($proton-purple, 0.4);
    }

    &-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(2, 400px);
      gap: 20px;
      max-width: 1400px;
      margin: 0 auto;

      @media (max-width: 1024px) {
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: auto;
      }

      @media (max-width: 768px) {
        grid-template-columns: 1fr;
      }
    }

    &-card {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 2rem;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;

      &:hover {
        border-color: $electric-cyan;
        background: rgba($electric-cyan, 0.05);
      }

      &--large {
        grid-column: span 2;
        grid-row: span 2;

        @media (max-width: 768px) {
          grid-column: span 1;
        }
      }

      h3 {
        font-size: 2rem;
        margin-bottom: 1rem;
        color: #fff;
      }

      p {
        color: #888;
        font-size: 1.1rem;
      }
    }

    // The actual heatmap squares simulation
    &-visual {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-wrap: wrap;
      gap: 2px;
      opacity: 0.2;
      z-index: 0;
      pointer-events: none;

      span {
        width: 20px;
        height: 20px;
        background: $electric-cyan;
        opacity: 0; // JS will animate this
      }
    }
  }

  // --- KINETIC CHAIN SECTION ---
  &__chain {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
    position: relative;
    overflow: hidden;

    &-svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;

      path {
        fill: none;
        stroke: $momentum-gold;
        stroke-width: 4;
      }
    }

    &-text {
      font-size: 5rem;
      font-weight: 900;
      color: #fff;
      z-index: 2;
      text-align: center;
      mix-blend-mode: overlay;
    }
  }

  // --- CTA SECTION (System Overload) ---
  &__cta {
    height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: radial-gradient(circle, #1a1a1a 0%, $deep-space 100%);

    &-btn {
      width: 300px;
      height: 80px;
      background: transparent;
      border: 2px solid $electric-cyan;
      color: $electric-cyan;
      font-size: 1.5rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 4px;
      position: relative;
      overflow: hidden;
      cursor: none;
      transition: all 0.1s;

      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: $electric-cyan;
        transition: 0.3s;
        z-index: -1;
      }

      &:hover {
        color: #000;
        border-color: $momentum-gold;
        box-shadow:
          0 0 50px $electric-cyan,
          inset 0 0 20px $electric-cyan;
        animation: shake 0.2s infinite;

        &::before {
          left: 0;
        }
      }
    }
  }
}

// --- MOBILE RESPONSIVENESS ---
@media (max-width: 1024px) {
  .landing-page {
    // Hide custom cursor on tablets/mobile
    &__cursor,
    &__cursor-trail {
      display: none !important;
    }
    cursor: auto;

    &__hero {
      flex-direction: column-reverse; // 3D on top or text on top? User said text priority.
      // Actually standard for mobile is 3D visual (small) then Text, OR Text then 3D.
      // Let's do Column: Top = Left(Text), Bottom = Right(3D).
      flex-direction: column;
      height: auto;
      min-height: 100vh;

      &-left {
        width: 100%;
        padding: 6rem 2rem 2rem; // Space for nav if any, or just top spacing
        align-items: center;
        text-align: center;
        z-index: 3;
      }

      &-right {
        width: 100%;
        height: 50vh; // Reduced height for 3D on mobile
        flex: none;
      }

      h1 {
        font-size: clamp(3rem, 12vw, 5rem); // Smaller font on mobile
      }
    }

    &__heatmap-grid {
      grid-template-columns: repeat(2, 1fr); // 2 cols on tablet
      grid-template-rows: auto;
    }
  }
}

@media (max-width: 768px) {
  .landing-page {
    &__hero {
      &-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
      }
    }

    &__heatmap-grid {
      grid-template-columns: 1fr; // 1 col on mobile
      gap: 2rem;
    }

    &__heatmap-card {
      &--large {
        grid-column: auto;
        grid-row: auto;
      }
    }
  }
}

// --- ANIMATIONS ---

@keyframes aurora-float {
  0% {
    transform: translate(0, 0) scale(1);
  }
  100% {
    transform: translate(20px, 20px) scale(1.1);
  }
}

@keyframes grid-move {
  0% {
    transform: perspective(500px) rotateX(60deg) translateY(-100px)
      translateZ(-200px);
  }
  100% {
    transform: perspective(500px) rotateX(60deg) translateY(0)
      translateZ(-200px);
  }
}

@keyframes type-fill {
  0% {
    width: 0;
  }
  100% {
    width: 100%;
  }
}

@keyframes shake {
  0% {
    transform: translate(1px, 1px) rotate(0deg);
  }
  10% {
    transform: translate(-1px, -2px) rotate(-1deg);
  }
  20% {
    transform: translate(-3px, 0px) rotate(1deg);
  }
  30% {
    transform: translate(3px, 2px) rotate(0deg);
  }
  40% {
    transform: translate(1px, -1px) rotate(1deg);
  }
  50% {
    transform: translate(-1px, 2px) rotate(-1deg);
  }
  60% {
    transform: translate(-3px, 1px) rotate(0deg);
  }
  70% {
    transform: translate(3px, 1px) rotate(-1deg);
  }
  80% {
    transform: translate(-1px, -1px) rotate(1deg);
  }
  90% {
    transform: translate(1px, 2px) rotate(0deg);
  }
  100% {
    transform: translate(1px, -2px) rotate(-1deg);
  }
}
